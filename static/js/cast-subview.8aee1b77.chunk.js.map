{"version":3,"sources":["views/Cast/Cast.js","views/Cast/Cast.module.css"],"names":["Cast","movieId","useParams","slug","match","useState","authors","setAuthors","error","setError","Status","IDLE","status","setStatus","useEffect","apiService","then","cast","length","toast","RESOLVED","catch","console","log","REJECTED","PENDING","message","className","s","map","author","item","src","profile_path","noImageFound","alt","original_name","photo","name","character","id","module","exports"],"mappings":"6NAiEeA,UAvDf,WACE,IACMC,EADWC,cAATC,KACaC,MAAM,cAAc,GACzC,EAA8BC,mBAAS,MAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA0BF,mBAAS,MAAnC,mBAAOG,EAAP,KAAcC,EAAd,KACA,EAA4BJ,mBAASK,IAAOC,MAA5C,mBAAOC,EAAP,KAAeC,EAAf,KAqBA,OAnBAC,qBAAU,WACRC,IACmBd,GAChBe,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACP,GAAoB,IAAhBA,EAAKC,OAGP,OAFAC,IAAMX,MAAM,iCACZK,EAAUH,IAAOC,MAGnBJ,EAAWU,GACXJ,EAAUH,IAAOU,aAElBC,OAAM,SAAAb,GACLc,QAAQC,IAAIf,GACZC,EAAS,oCACTI,EAAUH,IAAOc,eAEpB,CAACvB,IAGF,qCACGW,IAAWF,IAAOe,SAAW,cAAC,IAAD,IAE7Bb,IAAWF,IAAOc,UAAY,cAAC,IAAD,CAAWE,QAASlB,IAElDI,IAAWF,IAAOU,UACjB,oBAAIO,UAAWC,IAAEX,KAAjB,SACGX,EAAQuB,KAAI,SAAAC,GAAM,OACjB,qBAAoBH,UAAWC,IAAEG,KAAjC,UACE,qBACEC,IACEF,EAAOG,aAAP,0CACuCH,EAAOG,cAC1CC,IAENC,IAAKL,EAAOM,cACZT,UAAWC,IAAES,QAEf,oBAAIV,UAAWC,IAAEU,KAAjB,SAAwBR,EAAOM,gBAC/B,mBAAGT,UAAWC,IAAEW,UAAhB,SAA4BT,EAAOS,cAX5BT,EAAOU,c,mBC5C5BC,EAAOC,QAAU,CAAC,KAAO,mBAAmB,KAAO,mBAAmB,MAAQ,oBAAoB,KAAO,mBAAmB,UAAY","file":"static/js/cast-subview.8aee1b77.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport * as apiService from '../../services/apiService';\r\nimport Status from '../../services/status';\r\nimport LoaderComponent from '../../components/LoaderComponent/LoaderComponent';\r\nimport ErrorView from '../../components/ErrorView/ErrorView';\r\nimport noImageFound from '../../images/no-image.jpg';\r\nimport s from './Cast.module.css';\r\n\r\nfunction Cast() {\r\n  const { slug } = useParams();\r\n  const movieId = slug.match(/[a-z0-9]+$/)[0];\r\n  const [authors, setAuthors] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [status, setStatus] = useState(Status.IDLE);\r\n\r\n  useEffect(() => {\r\n    apiService\r\n      .getMovieCredits(movieId)\r\n      .then(({ cast }) => {\r\n        if (cast.length === 0) {\r\n          toast.error('ðŸ’© No results!');\r\n          setStatus(Status.IDLE);\r\n          return;\r\n        }\r\n        setAuthors(cast);\r\n        setStatus(Status.RESOLVED);\r\n      })\r\n      .catch(error => {\r\n        console.log(error);\r\n        setError('Something went wrong. Try again.');\r\n        setStatus(Status.REJECTED);\r\n      });\r\n  }, [movieId]);\r\n\r\n  return (\r\n    <>\r\n      {status === Status.PENDING && <LoaderComponent />}\r\n\r\n      {status === Status.REJECTED && <ErrorView message={error} />}\r\n\r\n      {status === Status.RESOLVED && (\r\n        <ul className={s.cast}>\r\n          {authors.map(author => (\r\n            <li key={author.id} className={s.item}>\r\n              <img\r\n                src={\r\n                  author.profile_path\r\n                    ? `https://image.tmdb.org/t/p/w500/${author.profile_path}`\r\n                    : noImageFound\r\n                }\r\n                alt={author.original_name}\r\n                className={s.photo}\r\n              />\r\n              <h4 className={s.name}>{author.original_name}</h4>\r\n              <p className={s.character}>{author.character}</p>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Cast;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cast\":\"Cast_cast__1kfLD\",\"item\":\"Cast_item__1SE4u\",\"photo\":\"Cast_photo__3fYJA\",\"name\":\"Cast_name__cZfoO\",\"character\":\"Cast_character__2TnYn\"};"],"sourceRoot":""}